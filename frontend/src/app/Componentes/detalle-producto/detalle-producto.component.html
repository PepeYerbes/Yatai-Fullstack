<div class="container mt-4">
  @if (product) {
    <div class="row">
      <div class="col-md-6">
        <!-- Asegúrate que 'product.imagen' contenga la ruta correcta -->
        @if (product.imagenUrl) {
          <img 
            [src]="getImageUrl(product.imagenUrl)" 
            [alt]="product.name"
            class="img-fluid rounded"
            onerror="this.src='assets/images/placeholder.jpg'">
        } @else {
          <div class="bg-light d-flex align-items-center justify-content-center" style="height: 300px;">
            <span class="text-muted">Imagen no disponible</span>
          </div>
        }
      </div>
      <div class="col-md-6">
        <h2>{{ product.name }}</h2>
        <p class="text-muted">{{ product.category }}</p>
        
        <h3 class="text-primary">{{ product.price | currency }}</h3>
        <p class="mt-3">{{ product.description }}</p>
        
        <div class="mt-4">
          <span class="badge" [ngClass]="{
            'bg-success': product.stock > 0,
            'bg-danger': product.stock <= 0
          }">
            {{ product.stock > 0 ? 'Disponible' : 'Agotado' }} ({{ product.stock }})
          </span>
        </div>
        
        <button 
          class="btn btn-primary btn-lg mt-3"
          (click)="addToCart()"
          [disabled]="product.stock === 0">
          {{ product.stock === 0 ? 'Agotado' : 'Añadir al carrito' }}
        </button>
      </div>
    </div>
  } @else {
    <div class="alert alert-warning">
      Producto no encontrado
    </div>
  }
</div>